{% extends 'base.html' %}
{% block header %}
    {% include 'elements/header.html' %}
{% endblock %}
{% block content %}
     <div class="Middle Middle_top">
    <div class="Middle-top">
      <div class="wrap">
        <div class="Middle-header">
          <h1 class="Middle-title">Сравнение товаров
          </h1>
          <ul class="breadcrumbs Middle-breadcrumbs">
            <li class="breadcrumbs-item"><a href="index.html">home</a>
            </li>
            <li class="breadcrumbs-item breadcrumbs-item_current"><span>Сравнение товаров</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="Section">
      <div class="wrap">
        <article class="Article">
          <p>Разнообразный и богатый опыт постоянный количественный рост и сфера нашей активности обеспечивает широкому кругу (специалистов) участие в формировании системы обучения кадров, соответствует насущным потребностям. Идейные соображения высшего порядка, а также консультация с широким активом требуют определения и уточнения соответствующий условий активизации.
          </p>
        </article>
        <div class="Compare">
          <div class="Compare-header">
            <label class="toggle Compare-checkDifferent">
              <input type="checkbox" name="differentFeature" value="true" checked="checked"/><span class="toggle-box"></span><span class="toggle-text">Только различающиеся характеристики</span>
            </label>
          </div>
        <div class="Compare-row">
            <div class="Compare-title Compare-title_blank">
            </div>
        <div class="Compare-products">
            {% for product in compare_list %}
                <div class="Compare-product">
                <div class="Compare-nameProduct Compare-nameProduct_main"> {{ product.name }}
                </div>
                <div class="Compare-feature"><img class="Compare-pict" src='{{ product.image.url }}' alt="card.jpg"/>
                </div>
                </div>
            {% endfor %}
        </div>
        </div>
          </div>
          <div class="Compare-row">
            <div class="Compare-title Compare-title_blank">
            </div>
            <div class="Compare-products">
              <div class="Compare-product">
                  {% for product in compare_list_products %}
                      <div class="Compare-nameProduct">{{ product.name}}
                      </div>
                      <div class="Compare-feature"><a class="Compare-btn" href="#"><img src='{{ product.image.url }}' alt="cart.svg"/></a><a class="Compare-btn" href="#"><img src="assets/img/icons/card/delete.svg" alt="delete.svg"/></a>
                      </div>
                  {% endfor %}
              </div>
            </div>
          </div>
          {% if different_features %}
              {% for key, values in different_features.items %}
                    {% for key_class, value in values.items %}
                        {% if key_class == 'same' %}
                            <div class='Compare-row Compare-row_hide'>
                        {% else %}
                            <div class='Compare-row'>
                        {% endif %}
                        <div class="Compare-title"> {{ key.name }}
                        </div>
                        <div class="Compare-products">
                            {% for key_product_id, feature_value in value.items %}
                            <div class="Compare-product">
                            <div class="Compare-nameProduct"> {{ key_product_id }}</div>
                            <div class="Compare-feature"> {{ feature_value }}</div>
                            </div>
                            {% endfor %}
                        </div>
                        </div>
                    {% endfor %}
              {% endfor %}
          {% endif %}
            <div class="Compare-row">
            <div class="Compare-title">Цена
            </div>
            <div class="Compare-products">
              {% for product in compare_list %}
                  <div class="Compare-product">
                    <div class="Compare-nameProduct"> {{ product.name }}
                    </div>
                    <div class="Compare-feature">
                      <strong class="Compare-priceOld">$115.00
                      </strong>
                      <strong class="Compare-price">{{ product.price }}
                      </strong>
                    </div>
                  </div>
              {% endfor %}
            </div>
            </div>
              </div>
              </div>
        </div>
    <script>
        const differentCheckBox = document.querySelector(name='differentFeature')

        differentCheckBox.addEventListener('change', function () {
            if (this.checked) {
                document.getElementById('Compare-row Compare-row_hide').style += "display: none"
            } else {
                document.getElementById('Compare-row Compare-row_hide').style += "display: flex"
            }
        });
    </script>

{% endblock %}
{% block footer %}
     {% include 'elements/footer.html' %}
{% endblock %}